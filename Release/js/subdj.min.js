function getAlbumList(d,a,b,c,e,f,g,h,l){b=void 0===b?10:b;c=void 0===c?0:c;var k="&type="+a;"byYear"===a&&(k+="&fromYear="+e+"&toYear="+f);"genre"===a&&(k+="&genre="+g);""!==b&&(k+="&size="+b);""!==c&&(k+="&offset="+c);""!==h&&(k+="&musicFolderId="+h);getResponseNode(d,l,"getAlbumList",k+"&")}
function getAlbumList2(d,a,b,c,e,f,g,h,l){b=void 0===b?10:b;c=void 0===c?0:c;var k="&type="+a;"byYear"===a&&(k+="&fromYear="+e+"&toYear="+f);"genre"===a&&(k+="&genre="+g);""!==b&&(k+="&size="+b);""!==c&&(k+="&offset="+c);""!==h&&(k+="&musicFolderId="+h);getResponseNode(d,l,"getAlbumList2",k+"&")}
function getRandomSongs(d,a,b,c,e,f,g){a=void 0===a?10:a;var h=null;""!==a&&(h+="&size="+a);""!==b&&(h+="&genre="+b);""!==c&&(h+="&fromYear="+c);""!==e&&(h+="&toYear="+e);""!==f&&(h+="&musicFolderId="+f);getResponseNode(d,g,"getRandomSongs",h+"&")}function getSongsByGenre(d,a,b,c,e,f){b=void 0===b?10:b;c=void 0===c?0:c;var g=null;""!==a&&(g+="&genre="+a);""!==b&&(g+="&count="+b);""!==c&&(g+="&offset="+c);""!==e&&(g+="&musicFolderId="+e);getResponseNode(d,f,"getSongsByGenre",g+"&")}
function getNowPlaying(d,a){getResponseNode(d,a,"getNowPlaying","")}function getStarred(d,a,b){var c=null;""!==a&&(c+="&musicFolderId="+a);getResponseNode(d,b,"getStarred",c+"&")}function getStarred2(d,a,b){var c=null;""!==a&&(c+="&musicFolderId="+a);getResponseNode(d,b,"getStarred2",c+"&")}var Authenticate=function(d,a,b,c,e){this.address=d;this.user=a;this.password=b;this.version=c;this.client=e};Authenticate.prototype.generateSalt=function(){return Math.random().toString(32).substring(2,8)};
Authenticate.prototype.generateToken=function(d){return md5(this.password+d)};Authenticate.prototype.generateApiCall=function(d,a){var b=this.generateSalt(),c=this.generateToken(b);d=this.address+"/rest/"+d+".view?";b="u="+this.user+"&t="+c+"&s="+b+"&v="+this.version+"&c="+this.client;console.log(d+a+b);return d+a+b};Authenticate.prototype.getResponseStatus=function(d){return"ok"===d.responseXML.getElementsByTagName("subsonic-response")[0].attributes[1].nodeValue?!0:!1};
Authenticate.prototype.getErrorCode=function(d){d=d.responseXML.getElementsByTagName("error")[0];if(null!==d)return d.attributes[0].nodeValue+": "+d.attributes[1].nodeValue};function getResponseNode(d,a,b,c){d=d.generateApiCall(b,c);var e=new XMLHttpRequest;e.open("GET",d,!0);e.send();e.onreadystatechange=function(){4===e.readyState&&200===e.status&&a.apply(e.responseXML.getElementsByTagName("subsonic-response")[0].outerHTML)}}
function getDownload(d,a,b,c){var e=d.generateApiCall(b,c),f=new XMLHttpRequest;f.open("GET",e,!0);f.send();f.onreadystatechange=function(){4===f.readyState&&200===f.status&&a.apply(e)}}
function getM3U8(d,a,b,c){var e=function(){var a=this.generateSalt(),d=this.generateToken(a),e=this.address+"/rest/"+b+".m3u8?",a="u="+this.user+"&t="+d+"&s="+a+"&v="+this.version+"&c="+this.client;console.log(e+c+a);return e+c+a},f=new XMLHttpRequest;f.open("GET",e,!0);f.send();f.onreadystatechange=function(){4===f.readyState&&200===f.status&&a.apply(e)}}function getBookmarks(d,a){getResponseNode(d,a,"getBookmarks","")}
function createBookmark(d,a,b,c,e){a="&id="+a+"&position="+b;""!==c&&(a+="&comment="+c);getResponseNode(d,e,"createBookmark",a+"&")}function deleteBookmark(d,a,b){getResponseNode(d,b,"deleteBookmark","&id="+a+"&")}function getPlayQueue(d,a){getResponseNode(d,a,"getPlayQueue","")}function savePlayQueue(d,a,b,c,e){a="&id="+a;""!==b&&(a+="&current="+b);""!==c&&(a+="&position="+c);getResponseNode(d,e,"savePlayQueue",a+"&")}function getMusicFolders(d,a){getResponseNode(d,a,"getMusicFolders","")}
function getIndexes(d,a,b,c){var e=null;""!==b&&(e+="&ifModifiedSince="+b);""!==a&&(e+="&musicFolderId="+a);getResponseNode(d,c,"getIndexes",e+"&")}function getMusicDirectory(d,a,b){getResponseNode(d,b,"getMusicDirectory","&id="+a+"&")}function getGenres(d,a){getResponseNode(d,a,"getGenres","")}function getArtists(d,a,b){var c=null;""!==a&&(c+="&musicFolderId="+a);getResponseNode(d,b,"getArtists",c+"&")}function getArtist(d,a,b){getResponseNode(d,b,"getArtist","&id="+a+"&")}
function getAlbum(d,a,b){getResponseNode(d,b,"getAlbum","&id="+a+"&")}function getSong(d,a,b){getResponseNode(d,b,"getSong","&id="+a+"&")}function getVideos(d,a){getResponseNode(d,a,"getVideos","")}function getVideoInfo(d,a,b){getResponseNode(d,b,"getVideoInfo","&id="+a+"&")}function getArtistInfo(d,a,b,c,e){b=void 0===b?20:b;c=void 0===c?!1:c;a="&id="+a;""!==b&&(a+="&count="+b);""!==c&&(a+="&includeNotPresent="+c);getResponseNode(d,e,"getArtistInfo",a+"&")}
function getArtistInfo2(d,a,b,c,e){b=void 0===b?20:b;c=void 0===c?!1:c;a="&id="+a;""!==b&&(a+="&count="+b);""!==c&&(a+="&includeNotPresent="+c);getResponseNode(d,e,"getArtistInfo2",a+"&")}function getAlbumInfo(d,a,b){getResponseNode(d,b,"getAlbumInfo","&id="+a+"&")}function getAlbumInfo2(d,a,b){getResponseNode(d,b,"getAlbumInfo2","&id="+a+"&")}function getSimilarSongs(d,a,b,c){b=void 0===b?20:b;a="&id="+a;""!==b&&(a+="&count="+b);getResponseNode(d,c,"getSimilarSongs",a+"&")}
function getSimilarSongs2(d,a,b,c){b=void 0===b?20:b;a="&id="+a;""!==b&&(a+="&count="+b);getResponseNode(d,c,"getSimilarSongs2",a+"&")}function getTopSongs(d,a,b,c){b=void 0===b?50:b;a="&artist="+a;""!==b&&(a+="&count="+b);getResponseNode(d,c,"getTopSongs",a+"&")}function getChatMessages(d,a,b){var c=null;""!==a&&(c+="&since="+a);getResponseNode(d,b,"getChatMessages",c+"&")}function addChatMessage(d,a,b){var c=null;""!==a&&(c+="&message="+a);getResponseNode(d,b,"addChatMessage",c+"&")}
function getInternetRadioStations(d,a){getResponseNode(d,a,"getInternetRadioStations","")}function jukeboxControl(d,a,b,c,e,f,g){var h="&action="+a;""!==b&&(h+="&action="+a);""!==c&&(h+="&offset="+c);""!==e&&(h+="&id="+e);""!==f&&(h+="&gain="+f);getResponseNode(d,g,"jukeboxControl",h+"&")}function star(d,a,b,c,e){var f=null;""!==a&&(f+="&id="+a);""!==b&&(f+="&albumId="+b);""!==c&&(f+="&artistId="+c);getResponseNode(d,e,"star",f+"&")}
function unstar(d,a,b,c,e){var f=null;""!==a&&(f+="&id="+a);""!==b&&(f+="&albumId="+b);""!==c&&(f+="&artistId="+c);getResponseNode(d,e,"unstar",f+"&")}function setRating(d,a,b,c){getResponseNode(d,c,"setRating","&id="+a+"&rating="+b+"&")}function scrobble(d,a,b,c,e){a="&id="+a;""!==b&&(a+="&time="+b);""!==c&&(a+="&submission="+c);getResponseNode(d,e,"scrobble",a+"&")}
function stream(d,a,b,c,e,f,g,h,l){g=void 0===g?!1:g;h=void 0===h?!1:h;a="&id="+a;""!==b&&(a+="&maxBitRate="+b);""!==c&&(a+="&format="+c);""!==e&&(a+="&timeOffset="+e);""!==f&&(a+="&size="+f);""!==g&&(a+="&estimateContentLength="+g);""!==h&&(a+="&converted="+h);getDownload(d,l,"stream",a+"&")}function download(d,a,b){getDownload(d,b,"download","&id="+a+"&")}function hls(d,a,b,c,e){a="&id="+a;""!==b&&(a+="&bitRate="+b);""!==c&&(a+="&audioTrack="+c);getResponseNode(d,e,"hls",a+"&")}
function getCaptions(d,a,b,c){a="&id="+a;""!==b&&(a+="&format="+b);getResponseNode(d,c,"getCaptions",a+"&")}function getCoverArt(d,a,b,c){a="&id="+a;""!==b&&(a+="&size="+b);getDownload(d,c,"getCoverArt",a+"&")}function getLyrics(d,a,b,c){var e=null;""!==a&&(e+="&artist="+a);""!==b&&(e+="&title="+b);getResponseNode(d,c,"getLyrics",e+"&")}function getAvatar(d,a,b){getDownload(d,b,"getAvatar","&username="+a+"&")}function getScanStatus(d,a){getResponseNode(d,a,"getScanStatus","")}
function startScan(d,a){getResponseNode(d,a,"startScan","")}function getPlaylists(d,a,b){var c=null;""!==a&&(c+="&username="+a);getResponseNode(d,b,"getPlaylists",c+"&")}function getPlaylist(d,a,b){getResponseNode(d,b,"getPlaylist","&id="+a+"&")}function createPlaylist(d,a,b,c,e){b="&name="+b;""!==a&&(b+="&playlistId="+a);""!==c&&(b+="&songId="+c);getResponseNode(d,e,"createPlaylist",b+"&")}
function updatePlaylist(d,a,b,c,e,f,g,h){a="&playlistId="+a;""!==b&&(a+="&name="+b);""!==c&&(a+="&comment="+c);""!==e&&(a+="&publicPlaylist="+e);""!==f&&(a+="&songIdToAdd="+f);""!==g&&(a+="&songIndexToRemove="+g);getResponseNode(d,h,"updatePlaylist",a+"&")}function deletePlaylist(d,a,b){getResponseNode(d,b,"deletePlaylist","&id="+a+"&")}function getPodcasts(d,a,b,c){a=void 0===a?!0:a;var e=null;""!==a&&(e+="&includeEpisodes="+a);""!==b&&(e+="&id="+b);getResponseNode(d,c,"getPodcasts",e+"&")}
function getNewestPodcasts(d,a,b){a=void 0===a?20:a;var c=null;""!==a&&(c+="&count="+a);getResponseNode(d,b,"getNewestPodcasts",c+"&")}function refreshPodcasts(d,a){getResponseNode(d,a,"refreshPodcasts","")}function createPodcastChannel(d,a,b){getResponseNode(d,b,"createPodcastChannel","&url="+id+"&")}function deletePodcastChannel(d,a,b){getResponseNode(d,b,"deletePodcastChannel","&id="+a+"&")}function deletePodcastEpisode(d,a,b){getResponseNode(d,b,"deletePodcastEpisode","&id="+a+"&")}
function downloadPodcastEpisode(d,a,b){getResponseNode(d,b,"downloadPodcastEpisode","&id="+a+"&")}function search(d,a,b,c,e,f,g,h,l){f=void 0===f?20:f;g=void 0===g?0:g;var k=null;""!==a&&(k+="&artist="+a);""!==b&&(k+="&album="+b);""!==c&&(k+="&title="+c);""!==e&&(k+="&any="+e);""!==f&&(k+="&count="+f);""!==g&&(k+="&offset="+g);""!==h&&(k+="&newerThan="+h);getResponseNode(d,l,"search",k+"&")}
function search2(d,a,b,c,e,f,g,h,l,k){b=void 0===b?20:b;c=void 0===c?0:c;e=void 0===e?20:e;f=void 0===f?0:f;g=void 0===g?20:g;h=void 0===h?0:h;a="&query="+a;""!==b&&(a+="&artistCount="+b);""!==c&&(a+="&artistOffset="+c);""!==e&&(a+="&albumCount="+e);""!==f&&(a+="&albumOffset="+f);""!==g&&(a+="&songCount="+g);""!==h&&(a+="&songOffset="+h);""!==l&&(a+="&musicFolderId="+l);getResponseNode(d,k,"search2",a+"&")}
function search3(d,a,b,c,e,f,g,h,l,k){b=void 0===b?20:b;c=void 0===c?0:c;e=void 0===e?20:e;f=void 0===f?0:f;h=void 0===h?0:h;a="&query="+a;""!==b&&(a+="&artistCount="+b);""!==c&&(a+="&artistOffset="+c);""!==e&&(a+="&albumCount="+e);""!==f&&(a+="&albumOffset="+f);""!==(void 0===g?20:g)&&(a+="&albumCount="+e);""!==h&&(a+="&songOffset="+h);""!==l&&(a+="&musicFolderId="+l);getResponseNode(d,k,"search3",a+"&")}function getShares(d,a){getResponseNode(d,a,"getShares","")}
function createShare(d,a,b,c,e){a="&id="+a;""!==b&&(a+="&description="+b);""!==c&&(a+="&expires="+c);getResponseNode(d,e,"createShare",a+"&")}function updateShare(d,a,b,c,e){a="&id="+a;""!==b&&(a+="&description="+b);""!==c&&(a+="&expires="+c);getResponseNode(d,e,"updateShare",a+"&")}function deleteShare(d,a,b){getResponseNode(d,b,"deleteShare","&id="+a+"&")}function ping(d,a){getResponseNode(d,a,"ping","")}function getLicense(d,a){getResponseNode(d,a,"getLicense","")}
function getUser(d,a,b){getResponseNode(d,b,"getUser","&username="+a+"&")}function getUsers(d,a){getResponseNode(d,a,"getUsers","")}
function createUser(d,a,b,c,e,f,g,h,l,k,m,n,p,q,r,t,u,v,w){e=void 0===e?!1:e;f=void 0===f?!1:f;g=void 0===g?!0:g;h=void 0===h?!0:h;l=void 0===l?!1:l;k=void 0===k?!1:k;m=void 0===m?!1:m;n=void 0===n?!1:n;p=void 0===p?!1:p;q=void 0===q?!1:q;r=void 0===r?!1:r;t=void 0===t?!1:t;u=void 0===u?!1:u;a="&username="+a+"&password="+b+"&email="+c;""!==e&&(a+="&ldapAuthenticated="+e);""!==f&&(a+="&adminRole="+f);""!==g&&(a+="&settingsRole="+g);""!==h&&(a+="&streamRole="+h);""!==l&&(a+="&jukeboxRole="+l);""!==
k&&(a+="&downloadRole="+k);""!==m&&(a+="&uploadRole="+m);""!==n&&(a+="&playlistRole="+n);""!==p&&(a+="&coverArtRole="+p);""!==q&&(a+="&commentRole="+q);""!==r&&(a+="&podcastRole="+r);""!==t&&(a+="&shareRole="+t);""!==u&&(a+="&videoConversionRole="+u);""!==v&&(a+="&musicFolderId="+v);getResponseNode(d,w,"createUser",a+"&")}
function updateUser(d,a,b,c,e,f,g,h,l,k,m,n,p,q,r,t,u,v,w){a="&username="+a+"&password="+b+"&email="+c;""!==ldapAuthenticated&&(a+="&ldapAuthenticated="+ldapAuthenticated);""!==f&&(a+="&adminRole="+f);""!==g&&(a+="&settingsRole="+g);""!==h&&(a+="&streamRole="+h);""!==l&&(a+="&jukeboxRole="+l);""!==k&&(a+="&downloadRole="+k);""!==m&&(a+="&uploadRole="+m);""!==playlistRole&&(a+="&playlistRole="+playlistRole);""!==n&&(a+="&coverArtRole="+n);""!==p&&(a+="&commentRole="+p);""!==q&&(a+="&podcastRole="+
q);""!==r&&(a+="&shareRole="+r);""!==t&&(a+="&videoConversionRole="+t);""!==u&&(a+="&musicFolderId="+u);""!==v&&(a+="&maxBitRate="+v);getResponseNode(d,w,"createUser",a+"&")}function deleteUser(d,a,b){getResponseNode(d,b,"deleteUser","&username="+a+"&")}function changePassword(d,a,b,c){getResponseNode(d,c,"changePassword","")}
function md5cycle(d,a){var b=d[0],c=d[1],e=d[2],f=d[3],b=ff(b,c,e,f,a[0],7,-680876936),f=ff(f,b,c,e,a[1],12,-389564586),e=ff(e,f,b,c,a[2],17,606105819),c=ff(c,e,f,b,a[3],22,-1044525330),b=ff(b,c,e,f,a[4],7,-176418897),f=ff(f,b,c,e,a[5],12,1200080426),e=ff(e,f,b,c,a[6],17,-1473231341),c=ff(c,e,f,b,a[7],22,-45705983),b=ff(b,c,e,f,a[8],7,1770035416),f=ff(f,b,c,e,a[9],12,-1958414417),e=ff(e,f,b,c,a[10],17,-42063),c=ff(c,e,f,b,a[11],22,-1990404162),b=ff(b,c,e,f,a[12],7,1804603682),f=ff(f,b,c,e,a[13],12,
-40341101),e=ff(e,f,b,c,a[14],17,-1502002290),c=ff(c,e,f,b,a[15],22,1236535329),b=gg(b,c,e,f,a[1],5,-165796510),f=gg(f,b,c,e,a[6],9,-1069501632),e=gg(e,f,b,c,a[11],14,643717713),c=gg(c,e,f,b,a[0],20,-373897302),b=gg(b,c,e,f,a[5],5,-701558691),f=gg(f,b,c,e,a[10],9,38016083),e=gg(e,f,b,c,a[15],14,-660478335),c=gg(c,e,f,b,a[4],20,-405537848),b=gg(b,c,e,f,a[9],5,568446438),f=gg(f,b,c,e,a[14],9,-1019803690),e=gg(e,f,b,c,a[3],14,-187363961),c=gg(c,e,f,b,a[8],20,1163531501),b=gg(b,c,e,f,a[13],5,-1444681467),
f=gg(f,b,c,e,a[2],9,-51403784),e=gg(e,f,b,c,a[7],14,1735328473),c=gg(c,e,f,b,a[12],20,-1926607734),b=hh(b,c,e,f,a[5],4,-378558),f=hh(f,b,c,e,a[8],11,-2022574463),e=hh(e,f,b,c,a[11],16,1839030562),c=hh(c,e,f,b,a[14],23,-35309556),b=hh(b,c,e,f,a[1],4,-1530992060),f=hh(f,b,c,e,a[4],11,1272893353),e=hh(e,f,b,c,a[7],16,-155497632),c=hh(c,e,f,b,a[10],23,-1094730640),b=hh(b,c,e,f,a[13],4,681279174),f=hh(f,b,c,e,a[0],11,-358537222),e=hh(e,f,b,c,a[3],16,-722521979),c=hh(c,e,f,b,a[6],23,76029189),b=hh(b,c,
e,f,a[9],4,-640364487),f=hh(f,b,c,e,a[12],11,-421815835),e=hh(e,f,b,c,a[15],16,530742520),c=hh(c,e,f,b,a[2],23,-995338651),b=ii(b,c,e,f,a[0],6,-198630844),f=ii(f,b,c,e,a[7],10,1126891415),e=ii(e,f,b,c,a[14],15,-1416354905),c=ii(c,e,f,b,a[5],21,-57434055),b=ii(b,c,e,f,a[12],6,1700485571),f=ii(f,b,c,e,a[3],10,-1894986606),e=ii(e,f,b,c,a[10],15,-1051523),c=ii(c,e,f,b,a[1],21,-2054922799),b=ii(b,c,e,f,a[8],6,1873313359),f=ii(f,b,c,e,a[15],10,-30611744),e=ii(e,f,b,c,a[6],15,-1560198380),c=ii(c,e,f,b,a[13],
21,1309151649),b=ii(b,c,e,f,a[4],6,-145523070),f=ii(f,b,c,e,a[11],10,-1120210379),e=ii(e,f,b,c,a[2],15,718787259),c=ii(c,e,f,b,a[9],21,-343485551);d[0]=add32(b,d[0]);d[1]=add32(c,d[1]);d[2]=add32(e,d[2]);d[3]=add32(f,d[3])}function cmn(d,a,b,c,e,f){a=add32(add32(a,d),add32(c,f));return add32(a<<e|a>>>32-e,b)}function ff(d,a,b,c,e,f,g){return cmn(a&b|~a&c,d,a,e,f,g)}function gg(d,a,b,c,e,f,g){return cmn(a&c|b&~c,d,a,e,f,g)}function hh(d,a,b,c,e,f,g){return cmn(a^b^c,d,a,e,f,g)}
function ii(d,a,b,c,e,f,g){return cmn(b^(a|~c),d,a,e,f,g)}function md51(d){txt="";var a=d.length,b=[1732584193,-271733879,-1732584194,271733878],c;for(c=64;c<=d.length;c+=64)md5cycle(b,md5blk(d.substring(c-64,c)));d=d.substring(c-64);var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(c=0;c<d.length;c++)e[c>>2]|=d.charCodeAt(c)<<(c%4<<3);e[c>>2]|=128<<(c%4<<3);if(55<c)for(md5cycle(b,e),c=0;16>c;c++)e[c]=0;e[14]=8*a;md5cycle(b,e);return b}
function md5blk(d){var a=[],b;for(b=0;64>b;b+=4)a[b>>2]=d.charCodeAt(b)+(d.charCodeAt(b+1)<<8)+(d.charCodeAt(b+2)<<16)+(d.charCodeAt(b+3)<<24);return a}var hex_chr="0123456789abcdef".split("");function rhex(d){for(var a="",b=0;4>b;b++)a+=hex_chr[d>>8*b+4&15]+hex_chr[d>>8*b&15];return a}function hex(d){for(var a=0;a<d.length;a++)d[a]=rhex(d[a]);return d.join("")}function md5(d){return hex(md51(d))}function add32(d,a){return d+a&4294967295}
if("5d41402abc4b2a76b9719d911017c592"!=md5("hello"))var add32$0=function(d,a){var b=(d&65535)+(a&65535);return(d>>16)+(a>>16)+(b>>16)<<16|b&65535};
